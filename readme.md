# 8bit BGM generator

8bit BGM generator は、「作曲スキルがないけど、Pyxelの自作ゲームにBGMを入れたい」という方のためのBGM自動生成ツールです。

Pyxelをお持ちの方でなくても、ブラウザ版で体験いただくことができます。また、自動生成された曲をmp3などの音声ファイルとして録音すれば、Pyxel以外のレトロゲーム開発や、動画のBGM等に使っていただくことも可能です（詳しくは後述）。

問題点を発見したり、要望がある方は、Twitter [frenchbread](https://twitter.com/frenchbread1222) (@frenchbread1222) までDM等でお知らせください。

## 自動生成の仕様

8小節、3パートの曲を生成します。3パートの構成は「メロディ＋ベース＋ドラム（ノイズドラム）」または「メロディ＋リバーブ（ディレイ）＋ベース」です。

3チャンネルしか使用しないため、生成した曲をPyxelで取り込んだ場合、残りの1チャンネルを効果音用に使えます。

テンポ、コード進行、ベースとドラムのリズムなどは登録されているパターンから指定します。メロディは自動生成ですが、パラメータによりある程度調整することもできます。

よくわからないという方は、とりあえず「きほん」タブの「プリセット」を適当に選択してみてください。その後でテンポを変えたり、リズムを差し替えることで、好みの曲調に近づけることができると思います。

## ツールの使い方

- ブラウザ上で動かす場合： https://retro-bgm-generator.web.app/　（スマートフォンでも動きますが、画面が小さく操作しづらいのと、エクスポートが困難なので、お試し用途以外はPCからアクセスください。）
- ローカル環境で動かす場合： このリポジトリをダウンロードして、src/generator.py を起動してください。

## 自動生成した曲を使うには？

### ①Pyxelで使う場合

ツールのエクスポートアイコンをクリックすると説明が表示されますので、その説明を参照してください。

Pyxelのサウンド仕様に沿ったテキストデータをjsonファイルとして保存し、これをゲーム本体のスクリプトで読み込んで再生する形になります。（リポジトリ内のplay.py参照。）

ローカルで動かした場合はjsonファイルを直接出力しますが、ブラウザで動かした場合はjsonファイル保存までの手順がやや複雑なので、ローカルで動かす方法を推奨します。

### ②Pyxel以外で使いたい場合

現時点（ver 1.00）ではサポートが不十分ですが、たとえばChromeの拡張機能[「Chrome audio capture」](https://chrome.google.com/webstore/detail/chrome-audio-capture/kfokdmfpdnokpmpbjhjbcabgligoelgp) などを使うことで、ブラウザ上で鳴らしているシステムサウンドをmp3ファイルなどに録音することができます。

こういった方法で作成した音声ファイルも自由に使っていただいて問題ありません。

